<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PKR App</title>
    <link rel="stylesheet" href="styles (4).css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        const SUPABASE_URL = 'https://dwkbptqrblyiqymnqjiv.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3a2JwdHFyYmx5aXF5bW5xaml2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM0MzA3NTcsImV4cCI6MjA1OTAwNjc1N30.QIHms9_kllO7SMxxUlu2U_ugICz1q_cr2-fO61092N4';
    </script>
    <script src="script (5).js" defer></script>
</head>
<body>
    <div id="registration-modal" style="display: none;">
        <div class="modal-content">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</p>
            <input id="reg-fullname" type="text" placeholder="–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è" aria-label="–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è">
            <button id="submit-profile-reg-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </div>
    </div>

    <div id="app-container" style="display: none;">
        <div class="main-content">
            <div id="feed" class="content active">
                <div id="new-post">
                    <textarea id="post-text" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç..." aria-label="–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞"></textarea>
                    <div class="new-post-actions">
                        <div class="new-post-icons">
                            <label class="image-upload-label">
                                üì∑ –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                                <input id="post-image" type="file" accept="image/*" style="display: none;" aria-label="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
                            </label>
                        </div>
                        <button id="submit-post">–¢–≤–∏—Ç–Ω—É—Ç—å</button>
                    </div>
                </div>
                <div id="posts-loading" style="display: none;">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div id="posts"></div>
            </div>

            <div id="tournaments" class="content">
                <button id="create-tournament-btn">–°–æ–∑–¥–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä</button>
                <div id="create-tournament-form" class="form-hidden">
                    <input id="tournament-name" type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞" aria-label="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞">
                    <input id="tournament-date" type="date" aria-label="–î–∞—Ç–∞ —Ç—É—Ä–Ω–∏—Ä–∞">
                    <input id="tournament-logo" type="text" placeholder="URL –ª–æ–≥–æ—Ç–∏–ø–∞" aria-label="URL –ª–æ–≥–æ—Ç–∏–ø–∞">
                    <textarea id="tournament-desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ" aria-label="–û–ø–∏—Å–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞"></textarea>
                    <input id="tournament-address" type="text" placeholder="–ê–¥—Ä–µ—Å" aria-label="–ê–¥—Ä–µ—Å —Ç—É—Ä–Ω–∏—Ä–∞">
                    <input id="tournament-deadline" type="date" aria-label="–î–µ–¥–ª–∞–π–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏">
                    <button id="submit-tournament">–°–æ–∑–¥–∞—Ç—å</button>
                </div>
                <div id="tournament-list"></div>
            </div>

            <div id="tournament-details" class="content">
                <div id="tournament-header"></div>
                <div id="tournament-description" class="description-hidden"></div>
                <button id="toggle-description-btn">–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ</button>
                <hr class="section-divider">
                <div class="tournament-tabs">
                    <button id="posts-tab" class="tab-btn active">–ü–æ—Å—Ç—ã</button>
                    <button id="registration-tab" class="tab-btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                    <button id="bracket-tab" class="tab-btn">–°–µ—Ç–∫–∞</button>
                </div>
                <div id="tournament-posts" class="tab-content active"></div>
                <div id="tournament-registration" class="tab-content">
                    <button id="register-tournament-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                    <div id="registration-form" class="form-hidden">
                        <input id="reg-faction-name" type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏–∏" aria-label="–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—Ä–∞–∫—Ü–∏–∏">
                        <input id="reg-speaker1" type="text" placeholder="–°–ø–∏–∫–µ—Ä 1" aria-label="–°–ø–∏–∫–µ—Ä 1">
                        <input id="reg-speaker2" type="text" placeholder="–°–ø–∏–∫–µ—Ä 2" aria-label="–°–ø–∏–∫–µ—Ä 2">
                        <input id="reg-club" type="text" placeholder="–ö–ª—É–±" aria-label="–ö–ª—É–±">
                        <input id="reg-city" type="text" placeholder="–ì–æ—Ä–æ–¥" aria-label="–ì–æ—Ä–æ–¥">
                        <input id="reg-contacts" type="text" placeholder="–ö–æ–Ω—Ç–∞–∫—Ç—ã" aria-label="–ö–æ–Ω—Ç–∞–∫—Ç—ã">
                        <textarea id="reg-extra" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" aria-label="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"></textarea>
                        <button id="submit-registration-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </div>
                    <div id="registration-list"></div>
                </div>
                <div id="tournament-bracket" class="tab-content"></div>
            </div>

            <div id="rating" class="content">
                <div id="rating-cities" style="display: flex; flex-wrap: wrap; gap: 10px;"></div>
                <div id="rating-years" style="display: none; flex-wrap: wrap; gap: 10px;"></div>
                <div id="rating-list" style="display: none;"></div>
            </div>

            <div id="profile" class="content">
                <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
                <p>Username: <span id="username"></span></p>
                <input id="fullname" type="text" placeholder="–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è" aria-label="–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è">
                <button id="update-profile">–ò–∑–º–µ–Ω–∏—Ç—å –∏–º—è</button>
            </div>

            <div id="edu" class="content">
                <h2>PKR EDU</h2>
                <p>–û–±—É—á–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è!</p>
            </div>
        </div>

        <nav class="navbar">
            <button id="feed-btn" class="nav-btn active">
                <span>üè†</span> –õ–µ–Ω—Ç–∞
            </button>
            <button id="tournaments-btn" class="nav-btn">
                <span>üèÜ</span> –¢—É—Ä–Ω–∏—Ä—ã
            </button>
            <button id="rating-btn" class="nav-btn">
                <span>‚≠ê</span> –†–µ–π—Ç–∏–Ω–≥
            </button>
            <button id="profile-btn" class="nav-btn">
                <span>üë§</span> –ü—Ä–æ—Ñ–∏–ª—å
            </button>
            <button id="edu-btn" class="nav-btn">
                <span>üìö</span> EDU
            </button>
        </nav>
    </div>
</body>
</html>
